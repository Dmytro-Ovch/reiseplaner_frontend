import{cn as w,co as m,cp as h,cq as E,cr as d,cs as f,ct as g}from"./index-QkvpMIk7.js";function F(o,n,a="nearest",e=!1){const l=!(e&&n.pixelType==="u8"),r=l?h.FLOAT:h.UNSIGNED_BYTE,s=n.pixels==null||n.pixels.length===0?null:l?n.getAsRGBAFloat():n.getAsRGBA(),p=o.capabilities.textureFloatLinear,t=new w;return t.width=n.width,t.height=n.height,t.internalFormat=l?m.RGBA32F:g.RGBA,t.samplingMode=!p||a!=="bilinear"&&a!=="cubic"?E.NEAREST:E.LINEAR,t.dataType=r,t.wrapMode=d.CLAMP_TO_EDGE,new f(o,t,s)}function G(o,n){const{spacing:a,offsets:e,coefficients:l,size:[r,s]}=n,p=a[0]>1,t=new w;t.width=p?4*r:r,t.height=s,t.internalFormat=m.RGBA32F,t.dataType=h.FLOAT,t.samplingMode=E.NEAREST,t.wrapMode=d.CLAMP_TO_EDGE;const A=new Float32Array(p?r*s*16:2*e.length);if(p&&l!=null)for(let i=0,c=0;i<l.length;i++)A[c++]=l[i],i%3==2&&(A[c++]=1);else for(let i=0;i<s;i++)for(let c=0;c<r;c++){const T=4*(i*r+c),u=2*(c*s+i);A[T]=e[u],A[T+1]=e[u+1],A[T+3]=e[u]===-1?0:1}return new f(o,t,A)}function _(o,n){const a=new w;return a.internalFormat=g.RGBA,a.width=n.length/4,a.height=1,a.samplingMode=E.NEAREST,a.wrapMode=d.CLAMP_TO_EDGE,new f(o,a,n)}function L(o,n,a){const e=new w;return e.internalFormat=g.ALPHA,e.pixelFormat=g.ALPHA,e.dataType=h.UNSIGNED_BYTE,e.width=a[0],e.height=a[1],e.samplingMode=E.NEAREST,e.wrapMode=d.CLAMP_TO_EDGE,new f(o,e,n)}export{L as c,_ as l,G as m,F as s};
