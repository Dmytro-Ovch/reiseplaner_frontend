import{eL as b,cg as h,f as y,bp as M,S as x,aT as G,ho as W}from"./index-QkvpMIk7.js";import{y as w,R as S}from"./geodesicUtils-DBSMsPo-.js";const d=50,T=5;function j(e,o){return Math.log(e)/Math.log(o)}function U(e,o,a){const t=e===1?10:e;return t**(a?Math.round(j(d/o,t)):0)}function q(e){const{isGeographic:o,isWebMercator:a}=e;return!o&&!a}function Z(e,o,a){const t=typeof e=="number"?null:e,r=a??(t==null?void 0:t.spatialReference);if(r==null||!b(r)||q(r))return h(r);let s=(t==null?void 0:t.x)??e,c=(t==null?void 0:t.y)??o;const l=1/Math.sqrt(2);let i=s+l,f=c+l;const{isWebMercator:$,isGeographic:g}=r;let p=g&&!w(r)?y.WGS84:r;if($){let n=new M({x:s,y:c,spatialReference:r});x(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:f,spatialReference:r}),x(n,!0,n),i=n.x,f=n.y,p=y.WGS84}const m=new G({paths:[[[s,c],[i,f]]],spatialReference:p}),R=W(m,10);let u;try{[u]=S([R],"meters")}catch{return h(r)}return u}export{U as l,T as t,Z as u};
